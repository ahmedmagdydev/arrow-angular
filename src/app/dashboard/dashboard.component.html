
              
      <div class="container-fluid main-content">
        <div class="d-flex my-3">
          <h2 class="mr-auto">الرئيسية</h2>
          <div class="filter-wrapper d-flex align-items-center">

            <label class="switch d-flex mx-3">
            <span>شخصي</span>
                 <input type="checkbox">
                 <span>
                     <strong></strong>
                 </span>
            <span>إدارة</span>
             </label>
             <div class="category mx-3">
               <select name="" class="form-control">
                 <option value="">جميغ الإدارات</option>
                 <option value=""> Departments</option>
                 <option value="">All </option>
               </select>
             </div>
             <div class="filter-date ml-3">
              بالتاريخ
               <input type="text" class="date-range">
             </div>
          </div>
        </div>

       <ul class="nav nav-fill main-tabs" id="myTab" role="tablist">
         <li class="nav-item" *ngFor="let status of statuses; let i = index" >
           <a class="nav-link clearfix d-flex align-items-center " attr.aria-controls="{{status.en}}" id="{{status.en}}-tab" data-toggle="tab" href="#{{status.en}}" role="tab"  aria-selected="true" (click)="changeStatus(status.en)">
             <span class="tab-detail">
              <p class="number">{{dashboardStatus(status.en).length}}</p>
                <span class="icon-{{status.en}}"></span>
                <p class="tab-name">{{status.ar}}</p> 
                <p>مراسلات</p> 
                <div class="progress">
                  <div class="progress-bar" role="progressbar" [style.width]="dashboardStatus(status.en).length / DashboardData.length * 100 + '%'"  aria-valuemin="0" aria-valuemax="100">{{dashboardStatus(status.en).length / DashboardData.length * 100}}%</div>
                </div> 
             </span>
             <div class="tab-chart">
               <canvas id="{{status.en}}Chart" width="320" height="130" attr.data-priority="{{dashboardStatusPrioriy(status.en)}}"></canvas>

             </div>
           </a>
         </li> 
         
       </ul>
       <div class="tab-content" id="myTabContent">
         <div class="tab-pane fade show active" id="new" role="tabpanel" aria-labelledby="home-tab">

            
          <div class="table-responsive">
              <table class="table table-condensed table-main" style="border-collapse:collapse">
  
                <thead>
                    <tr><th (click)="orderTable('priority')" class="table-filter  text-center">الاهمية</th>
                        <th (click)="orderTable('title')" class="table-filter">العنوان </th>
                        <th (click)="orderTable('sender')" class="table-filter">المرسل</th>
                        <th (click)="orderTable('date')" class="table-filter">التاريخ</th>
                        <th (click)="orderTable('number')" class="table-filter">الرقم</th>
                        <th>الإجراءات ذات الصلة</th>
                        <th>القالب</th>
                        <th></th>
                    </tr>
                </thead>
  
                <tbody *ngFor="let data of DashboardData | filterBy: ['status']: _status | orderBy : _orderBy | paginate: { itemsPerPage: _itemsPerPage, currentPage: _currentPage }">
                <tr data-toggle="collapse" attr.data-target="#row{{data.index}}" class="accordion-toggle collapsed">
                      <td>
                        <span class="priority priority-{{priority(data.priority)}}" title="priority-{{data.priority}}">
                          <span></span>
                          <span></span>
                          <span></span>
                          <span></span>
                          <span></span>
                          <span></span>
                          <span></span>
                        </span>
                      </td> 
                      <td>{{data.title}}</td>
                      <td>{{data.sender}}</td>
                      <td>{{data.createdDate | date:'shortDate'}}</td>
                      <td>{{data.number}}</td>
                    <td> 
                      <span *ngFor="let action of data.relatedActions ; let i = index" class="{{i > 2 ? 'd-none' : null}} mr-3">
                        <i class="icon-{{action}}"></i>
                      </span>
                      <span *ngIf="data.relatedActions.length > 2"> ...</span>
                    </td>
                    <td> {{data.template[0].name}}</td>
                    <td>
                      <div class="dropleft">
                        <a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i class="fa fa-ellipsis-v"></i>
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <a class="dropdown-item" href="#">Action</a>
                          <a class="dropdown-item" href="#">Another action</a>
                          <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                      </div>
                    </td>
                  </tr>
                  <tr>
                      <td colspan="8" class="hiddenRow"><div id="row{{data.index}}" class="accordian-body collapse" data-parent="#new">
                        <div class="table-details-full">
                          <h3>{{data.title}}</h3>
                          <div class="row">
                            <div class="col-3">
                              <label for="">sender:</label>
                              <p>{{data.sender}} </p>
                              <label for="">to:</label>
                              <p>{{data.to}}</p>
                              <label for="">cc:</label>
                              <p>{{data.cc}}</p>
                              <label for="">Need Action  :</label>
                              <p>{{data.needAction ? 'yes' : 'no'}}</p>
                            </div>
                            
                            <div class="col-3">
                              <label for="">Creation Date :</label>
                              <p>{{data.createdDate | date:'shortDate'}} </p>
                              <label for="">Date :</label>
                              <p>{{data.createdDate | date:'shortDate'}}</p>
                              <label for="">Related Actions :</label>
                              <p>
                                <span class="mr-3" *ngFor="let action of data.relatedActions">
                                  <i class="icon-{{action}}"></i>
                                </span>
                              
                              </p>
                              <label for="">Keywords:</label>
                              <p>{{data.keyords}}</p>
                            </div>

                            <div class="col-3">
                              <label for="">Number:</label>
                              <p>{{data.number}} </p>
                              <label for="">Templates:</label>
                              <p>{{data.template[0].name}}</p>
                              <label for="">Short Description:</label>
                              <p>{{data.shortDesc}}</p>
                              
                            </div>

                            <div class="col-3">
                              <label for="">Redirect Instruction:</label>
                              <p>{{data.redirectInst}} </p>
                              <label for="">Redirect comment:</label>
                              <p>{{data.redirectComment}}</p>
                              <a href="#" data-toggle="modal" data-target="#preview-template" class="btn btn-primary mt-3 preview-t">استعراض القالب</a>
                            </div>
                            
                          </div>
                        </div>
                      </div></td>
                  </tr>
                  
                    
                </tbody>
            </table>
          </div>
              

              
          <div class="table-footer">
           <div class="d-flex align-items-center">
            <pagination-controls 
                previousLabel=""
                nextLabel=""
                autoHide="true"
                (pageChange)="_currentPage = $event">
            </pagination-controls>
            <select class="pl-4" #itemsPerPage (change)="changeItemsPerPage(itemsPerPage.value)">
              <option value="5">5</option>
              <option value="10">10</option>
              <option value="20">20</option>
              <option value="30">30</option>
            </select>
            <p class="m-0 pl-1">items per page</p>
           </div>
          </div>
                          
           
         </div>
         <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">asd.</div>
         <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">...</div>
       </div>
        
      </div>



<div class="modal fade" id="preview-template" tabindex="-1" role="dialog" aria-labelledby="preview-template" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">استعراض القالب</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img src="assets/images/preview.JPG" class="img-fluid">
      </div>
     
    </div>
  </div>
</div>